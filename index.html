<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Galería BAREDO TOWN</title>
    <style>
        body {
            background: #000;
            color: white;
            font-family: Arial;
            padding: 20px;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .gallery-item {
            height: 200px;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
        }
        .gallery-item img, .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            max-width: 90%;
            max-height: 90%;
        }
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 40px;
            cursor: pointer;
            user-select: none;
        }
        .left { left: 20px; }
        .right { right: 20px; }
        .close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Galería BAREDO TOWN</h1>

<!-- REEMPLAZA ESTOS EJEMPLOS CON TUS ARCHIVOS REALES -->
<div class="gallery">
    <!-- Fotos -->
    <div class="gallery-item" onclick="abrirModal('media/fiesta1.jpg', 'foto')">
        <img src="media/fiesta1.jpg" alt="Fiesta 1">
    </div>
    
    <!-- Videos -->
    <div class="gallery-item" onclick="abrirModal('media/video1.mp4', 'video')">
        <video muted loop>
            <source src="media/video1.mp4" type="video/mp4">
        </video>
    </div>
</div>

<!-- Modal -->
<div id="modal" class="modal">
    <span class="close" onclick="cerrarModal()">×</span>
    <span class="arrow left" onclick="cambiarItem(-1)">❮</span>
    <span class="arrow right" onclick="cambiarItem(1)">❯</span>
    <img id="modal-foto" class="modal-content" style="display:none;">
    <video id="modal-video" class="modal-content" controls style="display:none;"></video>
</div>

<script>
// 1. CONFIGURACIÓN INICIAL
const elementos = [];
let indiceActual = 0;

// 2. DETECTA TODOS LOS ELEMENTOS AL CARGAR LA PÁGINA
window.onload = function() {
    document.querySelectorAll('.gallery-item').forEach(item => {
        const img = item.querySelector('img');
        const video = item.querySelector('video');
        
        if (img) {
            elementos.push({
                tipo: 'foto',
                src: img.src
            });
        }
        
        if (video) {
            elementos.push({
                tipo: 'video',
                src: video.querySelector('source').src
            });
        }
    });
};

// 3. ABRIR MODAL
function abrirModal(src, tipo) {
    indiceActual = elementos.findIndex(item => item.src === src);
    
    const modal = document.getElementById('modal');
    const modalFoto = document.getElementById('modal-foto');
    const modalVideo = document.getElementById('modal-video');
    
    if (tipo === 'foto') {
        modalFoto.src = src;
        modalFoto.style.display = 'block';
        modalVideo.style.display = 'none';
    } else {
        modalVideo.src = src;
        modalVideo.style.display = 'block';
        modalFoto.style.display = 'none';
        modalVideo.play();
    }
    
    modal.style.display = 'flex';
}

// 4. NAVEGACIÓN
function cambiarItem(direccion) {
    indiceActual += direccion;
    
    // Navegación circular
    if (indiceActual < 0) indiceActual = elementos.length - 1;
    if (indiceActual >= elementos.length) indiceActual = 0;
    
    const elemento = elementos[indiceActual];
    const modalFoto = document.getElementById('modal-foto');
    const modalVideo = document.getElementById('modal-video');
    
    if (elemento.tipo === 'foto') {
        modalFoto.src = elemento.src;
        modalFoto.style.display = 'block';
        modalVideo.style.display = 'none';
        modalVideo.pause();
    } else {
        modalVideo.src = elemento.src;
        modalVideo.style.display = 'block';
        modalFoto.style.display = 'none';
        modalVideo.play();
    }
}

// 5. CERRAR MODAL
function cerrarModal() {
    document.getElementById('modal').style.display = 'none';
    document.getElementById('modal-video').pause();
}

// 6. TECLADO (flechas izquierda/derecha y ESC para cerrar)
document.addEventListener('keydown', function(e) {
    const modal = document.getElementById('modal');
    if (modal.style.display === 'flex') {
        if (e.key === 'ArrowLeft') cambiarItem(-1);
        if (e.key === 'ArrowRight') cambiarItem(1);
        if (e.key === 'Escape') cerrarModal();
    }
});
</script>

</body>
</html>
